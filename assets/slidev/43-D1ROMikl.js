import{I as h}from"./default-BiAZGAXa.js";import{_,aV as l}from"../index-DdraXkq5.js";import{p as c,u,f as v}from"./context-B1Lq7m_7.js";import{o as I,c as g,k as x,q as y,s as w,e,a6 as t}from"../modules/vue-Z6Fy-qlH.js";import"../modules/shiki-Dfij_pE2.js";const $={__name:"43",setup(d,{expose:n}){n(),c(l);const{$slidev:o,$nav:r,$clicksContext:s,$clicks:a,$page:m,$renderContext:p,$frontmatter:f}=u(),i={$slidev:o,$nav:r,$clicksContext:s,$clicks:a,$page:m,$renderContext:p,$frontmatter:f,InjectedLayout:h,get frontmatter(){return l},get useSlideContext(){return u},get _provideFrontmatter(){return c},get _frontmatterToProps(){return v}};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}},P=e("div",{class:"dense"},[e("h1",null,"Step 11: Authorization"),e("p",null,"In RESTful APIs, a common use case is to restrict access to certain endpoints unless the user has permission to access them. Likewise in GraphQL, you can restrict access to certain fields unless the user has permission to access them."),e("p",null,[t("In this step, we will carry on from Step 8 (Federation) and modify the "),e("code",null,"me"),t(" query so that it only returns the current user and their posts, and no one elseâ€™s.")]),e("ul",null,[e("li",null,[t("In the service containing the "),e("code",null,"me"),t(" query, update the schema to define a new directive")]),e("li",null,[t("Define a "),e("code",null,"role"),t(" argument for the directive that can be either "),e("code",null,"VERIFIED"),t(" or "),e("code",null,"ADMIN")]),e("li",null,[t("Annotate the "),e("code",null,"me"),t(" query with the new directive and pass in an argument of "),e("code",null,"role: VERIFIED")]),e("li",null,[t("Annotate the "),e("code",null,"author"),t(" field with the new directive and pass in an argument of "),e("code",null,"role: ADMIN")])])],-1);function S(d,n,o,r,s,a){return I(),g(r.InjectedLayout,y(w(r._frontmatterToProps(r.frontmatter,42))),{default:x(()=>[P]),_:1},16)}const F=_($,[["render",S],["__file","/@slidev/slides/43.md"]]);export{F as default};
